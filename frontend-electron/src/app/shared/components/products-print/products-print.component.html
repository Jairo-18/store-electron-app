<article
  #printSection
  class="bg-white text-black p-6 w-full max-w-[800px] text-xs"
  style="background-color: white; color: black"
>
  <section class="flex content-between w-full items-center mb-2">
    <p class="text-xl font-bold" style="color: black; font-size: 1.25rem">
      Lista de Productos, Bar, Mecato, Restaurante y Otros
    </p>
  </section>

  <!-- ✅ TABLA CON DIVS Y FLEXBOX -->
  <div class="w-full" *ngIf="products" style="width: 100%">
    <!-- HEADER -->
    <div class="flex w-full" style="display: flex; width: 100%">
      <!-- <div
        class="flex-1 border text-sm p-1 font-bold text-center"
        style="
          flex: 1;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      ></div> -->
      <div
        class="flex-[2] border text-sm p-1 font-bold text-center"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      >
        Categoría
      </div>
      <div
        class="flex-[4] border text-sm p-1 font-bold text-center"
        style="
          flex: 4;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      >
        Nombre
      </div>
      <div
        class="flex-1 border text-sm p-1 font-bold text-center"
        style="
          flex: 1;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      >
        UN
      </div>
      <div
        class="flex-[2] border text-sm p-1 font-bold text-center"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      >
        P. Compra
      </div>
      <div
        class="flex-[2] border text-sm p-1 font-bold text-center"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          background-color: #06a606;
          color: white;
          font-weight: bold;
          text-align: center;
          font-size: 14px;
        "
      >
        P. Venta
      </div>
    </div>

    <!-- MENSAJE SI NO HAY PRODUCTOS -->
    <div
      *ngIf="products.length === 0"
      class="flex w-full"
      style="display: flex; width: 100%"
    >
      <div
        class="w-full border p-2 text-center text-xs"
        style="
          width: 100%;
          border: 1px solid black;
          padding: 8px;
          text-align: center;
          font-size: 12px;
        "
      >
        No hay productos registrados
      </div>
    </div>

    <!-- FILAS DE PRODUCTOS -->
    <div
      *ngFor="let product of products; let i = index"
      class="flex w-full"
      style="display: flex; width: 100%"
    >
      <!-- Número -->
      <!-- <div
        class="flex-1 border px-4 p-1 text-center text-xs"
        style="
          flex: 1;
          border: 1px solid black;
          padding: 4px;
          text-align: center;
          font-size: 12px;
        "
      >
        {{ i + 1 }}
      </div> -->

      <!-- Código -->
      <div
        class="flex-[2] border px-4 p-1 text-center text-xs"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          text-align: center;
          font-size: 12px;
        "
      >
        {{ product.categoryType.name || 'N/A' }}
      </div>

      <!-- Nombre -->
      <div
        class="flex-[4] border px-4 p-1 text-left text-xs"
        style="
          flex: 4;
          border: 1px solid black;
          padding: 4px;
          text-align: left;
          font-size: 12px;
        "
      >
        {{ product.name || 'N/A' }}
      </div>

      <!-- Unidades con colores -->
      <div
        class="flex-1 border px-4 p-1 text-center text-xs font-bold"
        [ngClass]="{
          'text-red-600': (product?.amount ?? 0) < 5,
          'text-yellow-600':
            (product?.amount ?? 0) >= 5 && (product?.amount ?? 0) < 10,
          'text-green-600': (product?.amount ?? 0) >= 10
        }"
        style="
          flex: 1;
          border: 1px solid black;
          padding: 4px;
          text-align: center;
          font-size: 12px;
        "
      >
        {{ product?.amount ?? 0 }}
      </div>

      <!-- Precio Compra -->
      <div
        class="flex-[2] border px-4 p-1 text-right text-xs font-bold text-red-700"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          text-align: right;
          font-size: 12px;
        "
      >
        {{ product?.priceBuy ?? 0 | formatCop }}
      </div>

      <!-- Precio Venta -->
      <div
        class="flex-[2] border px-4 p-1 text-right text-xs font-bold text-green-700"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          text-align: right;
          font-size: 12px;
        "
      >
        {{ product?.priceSale ?? 0 | formatCop }}
      </div>
    </div>

    <!-- FOOTER/TOTAL -->
    <div class="flex w-full" style="display: flex; width: 100%">
      <div
        class="flex-[7] border p-1 text-right text-xs font-bold"
        style="
          flex: 7;
          border: 1px solid black;
          padding: 4px;
          text-align: right;
          font-weight: bold;
          font-size: 12px;
        "
      >
        Precio Total Del Inventario:
      </div>
      <div
        class="flex-[2] border p-1 text-right text-xs"
        style="
          flex: 2;
          border: 1px solid black;
          padding: 4px;
          text-align: right;
          font-size: 12px;
        "
      >
        {{ totalSaleValue | formatCop }}
      </div>
      <div
        class="flex-[2] border"
        style="flex: 2; border: 1px solid black"
      ></div>
    </div>
  </div>
</article>
